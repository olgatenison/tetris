<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- <script type="text/javascript">
      function SayHelloWithName(person) {
        alert("Hello " + person);
      }
    </script> -->
    
    <script type="text/javascript">
    
    
    // problam with blockWidth!!!  


        // var windowWidth = window.document.body.offsetWidth;
        // var blockWidth = newElement.style.width 
        // console.log(blockWidth) 
        // var minX = 0;
        // var maxX = windowWidth - blockWidth; 

            function randomierX(){
                var windowWidth = window.document.body.offsetWidth;
                var minX = 0;
                var maxX = windowWidth; 
                var randomX = Math.floor(Math.random() * (maxX - minX + 1)) + minX;
                
                var randomXValue = randomX.toString() + 'px'; 
                return randomXValue

            }
       
        //clear part

        var allElements = []

        function CreateElement(){
            var newElement = document.createElement('div');

            newElement.style.position = 'absolute';
            newElement.style.top = '50px'; 
            newElement.style.left = randomierX(); 
            newElement.style.width = '100px';
            newElement.style.height = '100px';
            newElement.style.backgroundColor = 'green';
            newElement.id="MyDiv";
            

            document.body.appendChild(newElement);
            allElements.push(newElement);  
        }
   
        function MoveAllElements() {
            
        for (var i = 0; i < allElements.length; i++) {
            
            allElements[i].style.top =
            parseInt(allElements[i].style.top) + 1 + "px";
        }
      }

      function MoveDiv() {
        var myDiv = document.getElementById("MyDiv");

        var alterTopValue = parseInt(myDiv.style.top);
        myDiv.style.top = alterTopValue + 1 + "px";

        MoveAllElements(); 
        StarteTimeout();
      }

      function StarteTimeout(){
        window.setTimeout("MoveDiv();", 5);
      }

    </script>
    <title>Tetris</title>
  </head>
  <body>
    <body>
        <input type="button" value="Click me" onclick="StarteTimeout()"/>
        <input type="button" value="Create element" onclick="CreateElement()" />

        <!-- <div
          id="MyDiv"
          style="
            position: absolute;
            top: 50px;
            left: 100px;
            width: 200px;
            height: 100px;
            background-color: red;
          "
        ></div> -->

  </body>
</html>
